<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal con Centro Geométrico Centrado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        img {
            width: 200px;
            height: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        img:hover {
            transform: scale(1.05);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            position: absolute;
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://via.placeholder.com/600x400" alt="Imagen 1">
        <img src="https://via.placeholder.com/400x600" alt="Imagen 2">
        <img src="https://via.placeholder.com/800x500" alt="Imagen 3">
    </div>

    <div class="modal" id="imageModal">
        <span class="close" id="closeModal">&times;</span>
        <img class="modal-content" id="modalImage" alt="Imagen ampliada">
    </div>

    <script>
        // Seleccionar elementos
        const images = document.querySelectorAll('.container img');
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const closeModal = document.getElementById('closeModal');

        // Función para centrar el centro geométrico de la imagen
        const centerImageInModal = () => {
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const naturalWidth = modalImage.naturalWidth;
            const naturalHeight = modalImage.naturalHeight;

            // Escalar la imagen para que quepa en el modal
            const scaleX = windowWidth * 0.8 / naturalWidth;
            const scaleY = windowHeight * 0.8 / naturalHeight;
            const scale = Math.min(scaleX, scaleY, 1);

            const scaledWidth = naturalWidth * scale;
            const scaledHeight = naturalHeight * scale;

            // Calcular el desplazamiento para centrar el centro geométrico
            const offsetX = (scaledWidth / 2) - (windowWidth / 2);
            const offsetY = (scaledHeight / 2) - (windowHeight / 2);

            // Aplicar estilos dinámicos
            modalImage.style.width = `${scaledWidth}px`;
            modalImage.style.height = `${scaledHeight}px`;
            modalImage.style.transform = `translate(${-offsetX}px, ${-offsetY}px)`;
        };

        // Abrir modal y centrar imagen
        images.forEach(image => {
            image.addEventListener('click', () => {
                modal.style.display = 'flex';
                modalImage.src = image.src;

                // Esperar a que la imagen cargue para calcular dimensiones
                modalImage.onload = centerImageInModal;
            });
        });

        // Cerrar modal
        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
    </script>
</body>
</html>












